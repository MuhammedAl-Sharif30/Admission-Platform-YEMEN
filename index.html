<!DOCTYPE html>
<html lang="ar" dir="rtl">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>منصة القبول الطبي - اليمن</title>
    <link href="https://fonts.googleapis.com/css2?family=Cairo:wght@400;700&display=swap" rel="stylesheet">
    <style>
        body {
            font-family: 'Cairo', sans-serif;
            background-color: #f0f2f5;
            margin: 0;
            padding: 0;
            display: flex;
            flex-direction: column;
            align-items: center;
            min-height: 100vh;
        }
        .container {
            background-color: #ffffff;
            padding: 30px;
            border-radius: 10px;
            box-shadow: 0 4px 15px rgba(0, 0, 0, 0.1);
            width: 90%;
            max-width: 800px;
            margin: 20px auto;
            box-sizing: border-box;
            text-align: right; /* Right-to-left for RTL text */
        }
        header {
            width: 100%;
            text-align: center;
            padding: 20px 0;
            background-color: #28a745; /* Green header */
            color: white;
            border-bottom-left-radius: 10px;
            border-bottom-right-radius: 10px;
            margin-bottom: 20px;
        }
        h1, h2 {
            color: #333;
            text-align: center;
            margin-bottom: 20px;
        }
        .category-selection, .quiz-section, .results-section, .intro-section {
            padding: 20px;
            border: 1px solid #e0e0e0;
            border-radius: 8px;
            margin-bottom: 20px;
        }
        .category-selection button {
            background-color: #007bff;
            color: white;
            border: none;
            padding: 12px 25px;
            border-radius: 5px;
            cursor: pointer;
            font-size: 16px;
            margin: 10px;
            transition: background-color 0.3s ease;
            width: calc(33% - 20px);
            box-sizing: border-box;
        }
        .category-selection button:hover {
            background-color: #0056b3;
        }
        @media (max-width: 768px) {
            .category-selection button {
                width: calc(50% - 20px);
            }
        }
        @media (max-width: 480px) {
            .category-selection button {
                width: calc(100% - 20px);
            }
        }
        .question-container {
            margin-bottom: 20px;
            background-color: #f9f9f9;
            padding: 15px;
            border-radius: 8px;
        }
        .question-container p {
            font-size: 18px;
            color: #444;
            margin-bottom: 15px;
            line-height: 1.6;
        }
        .options label {
            display: block;
            background-color: #e9ecef;
            padding: 12px;
            margin-bottom: 10px;
            border-radius: 5px;
            cursor: pointer;
            transition: background-color 0.3s ease;
            font-size: 16px;
            color: #555;
            display: flex;
            align-items: center;
            gap: 10px;
        }
        .options label:hover {
            background-color: #dcdfe3;
        }
        .options input[type="radio"] {
            margin-left: 5px; /* Adjust for RTL */
            transform: scale(1.2);
        }
        .navigation-buttons {
            display: flex;
            justify-content: space-between;
            margin-top: 20px;
        }
        .navigation-buttons button {
            background-color: #28a745;
            color: white;
            border: none;
            padding: 12px 25px;
            border-radius: 5px;
            cursor: pointer;
            font-size: 16px;
            transition: background-color 0.3s ease;
        }
        .navigation-buttons button:disabled {
            background-color: #cccccc;
            cursor: not-allowed;
        }
        .navigation-buttons button:hover:not(:disabled) {
            background-color: #218838;
        }
        .timer {
            font-size: 20px;
            font-weight: bold;
            color: #d9534f;
            text-align: center;
            margin-bottom: 20px;
        }
        .results-section h2 {
            color: #28a745;
        }
        .results-section p {
            font-size: 18px;
            margin-bottom: 10px;
        }
        .results-section button {
            background-color: #007bff;
            color: white;
            border: none;
            padding: 12px 25px;
            border-radius: 5px;
            cursor: pointer;
            font-size: 16px;
            margin-top: 20px;
            transition: background-color 0.3s ease;
        }
        .results-section button:hover {
            background-color: #0056b3;
        }
        .question-review {
            margin-top: 25px;
            padding-top: 20px;
            border-top: 1px solid #eee;
        }
        .review-item {
            background-color: #f0f8ff;
            padding: 15px;
            border-radius: 8px;
            margin-bottom: 15px;
            border: 1px solid #cceeff;
        }
        .review-item p {
            font-size: 17px;
            color: #333;
            margin-bottom: 8px;
            line-height: 1.5;
        }
        .review-item .correct-answer {
            color: #28a745;
            font-weight: bold;
        }
        .review-item .your-answer {
            color: #dc3545;
            font-weight: bold;
        }
        .review-item .explanation {
            font-size: 15px;
            color: #666;
            margin-top: 10px;
            padding-top: 8px;
            border-top: 1px dashed #ddd;
        }
        .intro-section p {
            font-size: 18px;
            line-height: 1.7;
            color: #555;
            text-align: justify;
        }
        .intro-section ul {
            text-align: right;
            list-style-position: inside;
            padding-right: 20px;
            color: #555;
        }
        .intro-section li {
            margin-bottom: 8px;
            font-size: 16px;
        }
        .intro-section button {
            background-color: #007bff;
            color: white;
            border: none;
            padding: 12px 25px;
            border-radius: 5px;
            cursor: pointer;
            font-size: 16px;
            margin-top: 20px;
            transition: background-color 0.3s ease;
            display: block;
            margin-left: auto;
            margin-right: auto;
        }
        .intro-section button:hover {
            background-color: #0056b3;
        }
    </style>
</head>
<body>
    <header>
        <h1>منصة القبول الطبي - اليمن</h1>
    </header>

    <div class="container">
        <div id="introScreen" class="intro-section">
            <h2>مرحباً بك في منصة القبول الطبي</h2>
            <p>
                منصتنا هي وجهتك الأولى للتحضير لاختبارات القبول في كليات الطب البشري بالجامعات اليمنية. نقدم لك بنكًا شاملاً من الأسئلة في المواد الأساسية (الأحياء، الكيمياء، واللغة الإنجليزية) مع شروحات مفصلة لمساعدتك على فهم الإجابات وتعزيز معرفتك.
            </p>
            <h3>لماذا تختار منصتنا؟</h3>
            <ul>
                <li>**بنك أسئلة شامل:** أسئلة مستقاة من نماذج امتحانات سابقة ومصادر موثوقة.</li>
                <li>**شروحات وافية:** لكل سؤال شرح واضح ومبسط لضمان فهمك الكامل للمادة.</li>
                <li>**واجهة سهلة الاستخدام:** تصميم بسيط يتيح لك التركيز على دراستك.</li>
                <li>**تتبع التقدم:** (ميزة مستقبلية) لتقييم أدائك وتحديد نقاط قوتك وضعفك.</li>
            </ul>
            <p>
                ابدأ رحلتك نحو تحقيق حلمك في دراسة الطب. اختر المادة التي ترغب في البدء بها!
            </p>
            <button onclick="startQuizSelection()">ابدأ الآن</button>
        </div>

        <div id="categorySelection" class="category-selection" style="display: none;">
            <h2>اختر المادة</h2>
            <button onclick="startQuiz('biology')">الأحياء</button>
            <button onclick="startQuiz('chemistry')">الكيمياء</button>
            <button onclick="startQuiz('english')">اللغة الإنجليزية</button>
        </div>

        <div id="quizScreen" class="quiz-section" style="display: none;">
            <div class="timer" id="timer">الزمن المتبقي: 00:00</div>
            <div id="questionContainer" class="question-container">
                </div>
            <div class="navigation-buttons">
                <button id="prevBtn" onclick="prevQuestion()" disabled>السابق</button>
                <button id="nextBtn" onclick="nextQuestion()">التالي</button>
            </div>
            <button id="submitBtn" onclick="submitQuiz()" style="display: none; background-color: #d9534f; margin-top: 20px; width: 100%;">إنهاء الاختبار</button>
        </div>

        <div id="resultsScreen" class="results-section" style="display: none;">
            <h2>نتائج الاختبار</h2>
            <p>الأسئلة الصحيحة: <span id="correctAnswers"></span></p>
            <p>الأسئلة الخاطئة: <span id="wrongAnswers"></span></p>
            <p>الدرجة: <span id="scorePercentage"></span>%</p>
            <button onclick="retakeQuiz()">إعادة الاختبار</button>
            <button onclick="reviewAnswers()">مراجعة الإجابات</button>
            <div id="reviewContainer" class="question-review" style="display: none;">
                <h3>مراجعة تفصيلية للإجابات</h3>
                </div>
        </div>
    </div>

    <script>
        let questionsBiology = [
            {
                question: "توجد صبغة الكلوروفيل في خلايا بعض الكائنات مثل ...",
                options: ["الفطريات", "البكتيريا", "النخيل", "البراميسيوم"],
                answer: "النخيل",
                explanation: "الكلوروفيل هي الصبغة الخضراء المسؤولة عن عملية البناء الضوئي، وتوجد في النباتات والطحالب وبعض أنواع البكتيريا. من بين الخيارات المعطاة، النخيل هو نبات ويحتوي على الكلوروفيل. الفطريات والبكتيريا والبراميسيوم لا تقوم بالبناء الضوئي بنفس طريقة النباتات (بعض البكتيريا تقوم به ولكن ليست كلها وليست بالضرورة تحتوي على الكلوروفيل بنفس التركيب الشائع في النبات)."
            },
            {
                question: "في نبات الفيوناريا يتكون من القدم وشبه الساق والعنق والعلبة",
                options: ["المشيج المذكر", "النسيج المؤنث", "النبات البوغي", "النبات المشيجي"],
                answer: "النبات البوغي",
                explanation: "نبات الفيوناريا (من الحزازيات) يمر بدورة حياة تتناوب فيها الأجيال. النبات البوغي (Sporophyte) هو الجيل الذي ينتج الأبواغ، ويتكون من قدم (تتصل بالنبات المشيجي)، وعنق، وعلبة (حافظة الأبواغ)."
            },
            {
                question: "النخاع المستطيل هو الذي يربط بين ....",
                options: ["المخ والأعصاب", "المخيخ والأعصاب", "المخيخ والحبل الشوكي", "المخيخ والمخ"],
                answer: "المخيخ والحبل الشوكي",
                explanation: "النخاع المستطيل (Medulla Oblongata) هو جزء من جذع الدماغ، ويربط الدماغ (بما في ذلك المخيخ) بالحبل الشوكي، وينظم العديد من الوظائف الحيوية اللاإرادية."
            },
            {
                question: "ينطلق O₂ الناتج من البناء الضوئي إلى خارج النبات عن طريق ...",
                options: ["الثغور", "الجذور", "الأوراق", "النتح"],
                answer: "الثغور",
                explanation: "الثغور (Stomata) هي فتحات صغيرة توجد بشكل رئيسي على سطح الأوراق، تسمح بتبادل الغازات (دخول CO₂ وخروج O₂ وبخار الماء) بين النبات والغلاف الجوي."
            },
            {
                question: "تتكون أصابع اليدين والقدمين والأذنين ويظهر الجنين محاطاً بأربعة أغشية في....",
                options: ["الثلاثة الأشهر الأولى", "الثلاثة الأشهر الثانية", "الثلاثة الأشهر الأخيرة", "الثلاثة الأسابيع الأخيرة"],
                answer: "الثلاثة الأشهر الأولى",
                explanation: "تتطور الأعضاء الرئيسية للجنين، بما في ذلك تكون أصابع اليدين والقدمين والأذنين، وتشكل الأغشية الجنينية الأربعة (الكيس الأمينوسي، الكيس المحي، المشيمة، السقاء) بشكل أساسي خلال الثلاثة أشهر الأولى من الحمل (التي تتضمن المرحلة الجنينية المبكرة)."
            },
            {
                question: "مركبات تساعد الاعضاء على القيام بوظائفها هي ...",
                options: ["الأجسام المضادة", "الهرمونات", "الفيتامينات", "الإنزيمات"],
                answer: "الهرمونات",
                explanation: "الهرمونات هي مواد كيميائية تفرزها الغدد الصماء في مجرى الدم، وتعمل كرسل كيميائية تنظم وتنسق وظائف الأعضاء والخلايا المختلفة في الجسم."
            },
            {
                question: "تمر الخلايا المرستيمية بــ.....",
                options: ["جميع مراحل دورة الخلية", "بعض مراحل دورة الخلية", "طور السبات", "ليس مما سبق"],
                answer: "جميع مراحل دورة الخلية",
                explanation: "الخلايا المرستيمية هي خلايا نباتية غير متخصصة تتميز بقدرتها المستمرة على الانقسام. وللقيام بالانقسام، يجب أن تمر بجميع مراحل دورة الخلية (الطور البيني الذي يشمل G1, S, G2، والطور الانقسامي M)."
            },
            {
                question: "من أمراض المناعة الذاتية التي تستهدف الجهاز العصبي ...",
                options: ["الروماتويد", "المايلوما", "التصلب المتعدد", "ليس مما سبق"],
                answer: "التصلب المتعدد",
                explanation: "التصلب المتعدد (Multiple Sclerosis - MS) هو مرض مناعي ذاتي يهاجم فيه الجهاز المناعي للجسم غمد الميالين الذي يغطي الألياف العصبية في الدماغ والحبل الشوكي، مما يؤثر على إشارات الجهاز العصبي. الروماتويد (التهاب المفاصل الروماتويدي) يستهدف المفاصل بشكل أساسي، والمايلوما هو سرطان نخاع العظم."
            },
            {
                question: "تتم تفاعلات دورة كالفن في...",
                options: ["السيتوبلازم", "البلاستيدات", "النواة", "الميتوكوندريا"],
                answer: "البلاستيدات",
                explanation: "دورة كالفن (التفاعلات اللاضوئية للبناء الضوئي) تتم في لحمة (Stroma) البلاستيدات الخضراء، وهي الجزء السائل داخل البلاستيدة."
            },
            {
                question: "ساق أفقية تنمو تحت سطح التربة ...",
                options: ["الساق الجارية", "الكورمة", "البصلة", "الريزومة"],
                answer: "الريزومة",
                explanation: "الريزومة (Rhizome) هي ساق أرضية تنمو أفقيًا تحت سطح التربة، وتخزن الغذاء وتساهم في التكاثر الخضري، مثل تلك الموجودة في الزنجبيل والقصب. الساق الجارية تنمو فوق سطح التربة. الكورمة والبصلة هي سيقان متحورة للتخزين ولكنها ليست أفقية."
            },
            {
                question: "جزء من مكونات النفرون يشبه الكوب ذا الجدار المزدوج....",
                options: ["محفظة بومان", "التواء هنلي", "كرية ملبيجي", "حوض الكلية"],
                answer: "محفظة بومان",
                explanation: "محفظة بومان (Bowman's Capsule) هي جزء أساسي من النفرون في الكلى، وهي عبارة عن تركيب يشبه الكوب ذو الجدار المزدوج يحيط بالكُبيبة (Glomerulus) ويبدأ فيها ترشيح الدم. كرية ملبيجي هي الكبيبة ومحفظة بومان معاً."
            },
            {
                question: "تعمل حركة أسواط الخلايا المطوقة في الإسفنج على....",
                options: ["دخول تيار الماء", "خروج تيار الماء", "دخول وخروج تيار الماء", "الحركة الأميبية"],
                answer: "دخول تيار الماء",
                explanation: "الخلايا المطوقة (Choanocytes) في الإسفنج مبطنة لتجويفه الداخلي، وتمتلك أسواطًا (Flagella) تتحرك باستمرار لتوليد تيار مائي يدخل من مسام الإسفنج حاملًا الغذاء والأكسجين، ويخرج من فتحة التويج (Osculum)."
            },
            {
                question: "..... هو أحد الأنسجة المستديمة البسيطة والذي يغطي جذور النبات.",
                options: ["البشرة", "القشرة", "الطلائي", "الضام الليفي"],
                answer: "البشرة",
                explanation: "البشرة (Epidermis) هي النسيج الواقي الذي يغطي السطح الخارجي للنباتات، بما في ذلك الجذور، لحمايتها. الأنسجة الطلائية والضامة هي أنسجة حيوانية."
            },
            {
                question: "ظاهرة تبادل الأجيال تحدث في ...",
                options: ["البراميسيوم", "الأميبا", "البلاناريا", "بلازموديوم الملاريا"],
                answer: "بلازموديوم الملاريا",
                explanation: "تبادل الأجيال (Alternation of Generations) هو ظاهرة تتضمن تعاقب جيل جنسي وجيل لاجنسي في دورة حياة الكائن الحي. بلازموديوم الملاريا (Plasmodium falciparum) يمتلك دورة حياة معقدة تتضمن مراحل جنسية ولاجنسية داخل مضيفين مختلفين (الإنسان والبعوض)، مما يمثل تبادل أجيال."
            },
            {
                question: "ينتج من الإخصاب المضاعف ....",
                options: ["اللاقحة", "نواة الإندوسبيرم الأولية", "خلية الإندوسبيرم الأم", "أ + ب"],
                answer: "أ + ب",
                explanation: "الإخصاب المضاعف (Double Fertilization) هو عملية فريدة تحدث في النباتات المزهرة. ينتج عنها شيئان: اللاقحة (Zygote) من اتحاد أحد الأمشاج الذكرية مع البويضة، ونواة الإندوسبيرم الأولية (Primary Endosperm Nucleus) من اتحاد المشيج الذكري الثاني مع النواتين القطبيتين."
            },
            {
                question: "نبات ....... يتكاثر خضريًا بواسطة نمو البراعم الجانبية في كل عين لتكوين نبات جديد.",
                options: ["البطاطس", "الثوم", "النخيل", "النجيل"],
                answer: "البطاطس",
                explanation: "البطاطس هي ساق درنية (Tubers) تحتوي على 'عيون' (Eyes) وهي في الواقع براعم. يمكن زراعة قطع من درنة البطاطس تحتوي على عين أو أكثر، وتنمو هذه البراعم لتشكل نباتات جديدة متطابقة وراثيًا، وهذا شكل من أشكال التكاثر الخضري."
            },
            {
                question: "أحد الصفات الآتية لم يقم مندل بدراستها",
                options: ["لون الزهرة", "لون الساق", "لون البذرة", "لون القرن"],
                answer: "لون الساق",
                explanation: "قام مندل بدراسة سبع صفات في نبات البازلاء، وهي: طول الساق، شكل البذرة، لون البذرة، شكل القرن، لون القرن، لون الزهرة، وموقع الزهرة. لم يدرس 'لون الساق' كصفة مستقلة."
            },
            {
                question: "في الخطوة الثالثة من بناء البروتين يلتقي حمض..... مع حمض RNA الناقل حيث يقوم الناقل بقراءة شفرته",
                options: ["mRNA", "tRNA", "rRNA", "لا شيء مما سبق"],
                answer: "mRNA",
                explanation: "في عملية بناء البروتين (الترجمة)، يحمل حمض mRNA (الرنا الرسول) الشفرة الوراثية من النواة إلى الريبوسومات. حمض tRNA (الرنا الناقل) يحمل الحمض الأميني المحدد ويقوم 'بقراءة' الشفرة الموجودة على mRNA (عن طريق مضاد الكودون). لذا، الـ tRNA يلتقي مع الـ mRNA لقراءة الشفرة."
            },
            {
                question: "تحتوي الخلايا العصوية على صبغة ........ والخلايا المخروطية على صبغة.........",
                options: ["الرودوبسين ، اليودوبسين", "الريتينال ، الرودوبسين", "اليودوبسين ، الرودوبسين", "لا شيء مما سبق"],
                answer: "الرودوبسين ، اليودوبسين",
                explanation: "الخلايا العصوية (Rods) المسؤولة عن الرؤية في الإضاءة الخافتة والرؤية الليلية تحتوي على صبغة الرودوبسين (Rhodopsin). الخلايا المخروطية (Cones) المسؤولة عن الرؤية الملونة والرؤية في الإضاءة الساطعة تحتوي على صبغة اليودوبسين (Iodopsin)."
            },
            {
                question: "ينتج عن السمنة ...",
                options: ["مرض السكري", "مشاكل في القلب", "ضيق في التنفس", "كل ما سبق"],
                answer: "كل ما سبق",
                explanation: "السمنة هي عامل خطر رئيسي للعديد من المشاكل الصحية الخطيرة، بما في ذلك مرض السكري من النوع 2، أمراض القلب والأوعية الدموية (مثل ارتفاع ضغط الدم وتصلب الشرايين)، ومشاكل التنفس (مثل انقطاع التنفس أثناء النوم)، بالإضافة إلى مشاكل أخرى في المفاصل وبعض أنواع السرطان."
            }
        ];

        let questionsChemistry = [
            {
                question: "المعادلة الكيميائية تساعد على:",
                options: ["معرفة الصفات الطبيعية", "معرفة التوزيع الإلكتروني", "وصف المتفاعلات والنواتج", "كل ما سبق"],
                answer: "وصف المتفاعلات والنواتج",
                explanation: "المعادلة الكيميائية تمثل وصفاً مختصراً ودقيقاً للتفاعل الكيميائي، حيث توضح المواد المتفاعلة والمواد الناتجة، بالإضافة إلى الحالة الفيزيائية لكل مادة والظروف اللازمة للتفاعل."
            },
            {
                question: "ترتبط عناصر المجموعة الخامسة مع الأكسجين مكونة أكاسيد خماسية أو ثلاثية:",
                options: ["الأكاسيد الخماسية أكثر حامضية من الثلاثية", "الأكاسيد الثلاثية أكثر حامضية من الخماسية", "الأكاسيد متساوية بالحامضية", "ليس مما سبق"],
                answer: "الأكاسيد الخماسية أكثر حامضية من الثلاثية",
                explanation: "بشكل عام، تزداد حامضية الأكاسيد مع زيادة عدد تأكسد العنصر اللافلزي. في المجموعة الخامسة، يكون عدد تأكسد العنصر في الأكاسيد الخماسية أعلى منه في الأكاسيد الثلاثية، وبالتالي تكون الأكاسيد الخماسية أكثر حامضية."
            },
            {
                question: "عدد الكم ms كم عدد اتجاهات الإلكترون:",
                options: ["1/2", "2", "-1/2", "أ أو ج"],
                answer: "أ أو ج",
                explanation: "عدد الكم المغزلي (ms) يصف اتجاه دوران الإلكترون حول محوره. له قيمتان محتملتان فقط: +1/2 (اتجاه الدوران للأعلى) و -1/2 (اتجاه الدوران للأسفل)، مما يعني وجود اتجاهين محتملين لدوران الإلكترون."
            },
            {
                question: "واحد مول من جزيء الكلور Cl₂ (الكتلة الذرية للكلور Cl=35.5) يساوي ...",
                options: ["71", "35.5", "35", "17"],
                answer: "71",
                explanation: "جزيء الكلور هو Cl₂، أي يتكون من ذرتي كلور. بما أن الكتلة الذرية للكلور هي 35.5، فإن الكتلة المولية لجزيء Cl₂ هي 2 × 35.5 = 71 جرام/مول."
            },
            {
                question: "عدد الكم المغناطيسي للعدد الثانوي f هو ....",
                options: ["(-5, 5)", "(-3, 3)", "(-1, 1)", "(-7, 7)"],
                answer: "(-3, 3)",
                explanation: "عدد الكم الثانوي (l) للمستوى الفرعي f هو 3. عدد الكم المغناطيسي (ml) يتراوح من -l إلى +l بما في ذلك الصفر. لذا، بالنسبة لـ l=3 (المستوى الفرعي f)، تكون قيم ml هي: -3, -2, -1, 0, +1, +2, +3. وبالتالي، النطاق هو (-3, 3)."
            },
            {
                question: "عدد أفوجادرو ....",
                options: ["عدد الذرات أو الكتل في المول", "عدد الذرات أو الجزيئات في مول", "العدد الذري للعناصر", "عدد الجزيئات أو الكتل في واحد مول"],
                answer: "عدد الذرات أو الجزيئات في مول",
                explanation: "عدد أفوجادرو (6.022 × 10^23) هو عدد الجسيمات (سواء كانت ذرات، جزيئات، أيونات، أو وحدات صيغة) الموجودة في مول واحد من أي مادة."
            },
            {
                question: "نسبة كتلة الهيليوم He=4 إلى كتلة الكربون C=12",
                options: ["0.33", "0.77", "0.5", "0.8"],
                answer: "0.33",
                explanation: "نسبة كتلة الهيليوم إلى كتلة الكربون هي كتلة الهيليوم / كتلة الكربون = 4 / 12 = 1/3 ≈ 0.33."
            },
            {
                question: "الأكثر نشاطاً بين عناصر المجموعة الرئيسية الثانية هو.....",
                options: ["Mg", "Ca", "Sr", "Ba"],
                answer: "Ba",
                explanation: "في المجموعة الواحدة، يزداد النشاط الكيميائي للعناصر الفلزية كلما اتجهنا للأسفل في المجموعة، وذلك بسبب زيادة نصف قطر الذرة وسهولة فقدان إلكترونات التكافؤ. ترتيب العناصر المعطاة في المجموعة الثانية من الأعلى للأسفل هو Mg, Ca, Sr, Ba. لذا، الباريوم (Ba) هو الأكثر نشاطًا."
            },
            {
                question: "يوجد اليود في الطبيعة على هيئة .....",
                options: ["يوديد البوتاسيوم", "يوديد الصوديوم", "يوديد الكالسيوم", "لا توجد إجابة"],
                answer: "لا توجد إجابة",
                explanation: "اليود يوجد في الطبيعة بشكل رئيسي على هيئة أيونات يوديد في مياه البحار والمحيطات، ويتركز في بعض الأعشاب البحرية. كما يوجد في بعض الأملاح والرواسب على هيئة يودات (مثل يودات الصوديوم في نترات تشيلي). الخيارات المعطاة هي مركبات اصطناعية أو يوجد اليود فيها بشكل أيوني وليس على هيئة يودات أو أيونات حرة في الحالة الخام الطبيعية المذكورة."
            },
            {
                question: "يستخدم التحلل المائي في وسط قاعدي للمشتقات الهالوجينية للهيدروكربونات لتحضير ......\n",
                options: ["كيتونات", "كحولات", "أسترات", "ألدهيدات"],
                answer: "كحولات",
                explanation: "التحلل المائي للمشتقات الهالوجينية (هاليدات الألكيل) في وسط قاعدي هو تفاعل استبدال نوكليوفيلي (Nucleophilic substitution) يتم فيه استبدال ذرة الهالوجين بمجموعة الهيدروكسيل (-OH)، مما يؤدي إلى تكوين الكحولات. مثال: R-X + NaOH → R-OH + NaX"
            },
            {
                question: "اعتقد ان المادة تتكون من جسيمات صغيرة جدا ولكنها تحتفظ بخواص المادة .",
                options: ["جاليليو", "ديمقراط", "فرانسيس بيكون", "طومسون"],
                answer: "ديمقراط",
                explanation: "ديمقراطيس (Democritus) هو الفيلسوف اليوناني الذي طرح فكرة أن المادة تتكون من جسيمات صغيرة غير قابلة للتجزئة أسماها 'ذرات' (Atoms)، والتي تحتفظ بخواص المادة."
            },
            {
                question: "تم اكتشاف الدهانات والأصباغ في المرحلة",
                options: ["الأولى", "الثانية", "الثالثة", "الرابعة"],
                answer: "الرابعة",
                explanation: "هذا السؤال يتعلق بتاريخ الكيمياء وربما التصنيفات المعطاة تشير إلى مراحل تطور علم الكيمياء. عادةً ما يُشار إلى 'المرحلة الرابعة' أو 'العصر الحديث' للكيمياء بالفترة التي شهدت تطوراً صناعياً واسعاً بما في ذلك صناعة البوليمرات والدهانات والأصباغ الحديثة، والتي تعتمد على الكيمياء العضوية المتقدمة التي تطورت بشكل كبير في القرن العشرين."
            },
            {
                question: "مساحة السطح تتناسب تناسبا..... مع سرعة التفاعل",
                options: ["عكسي", "طردي", "لا يتأثر", "متردد"],
                answer: "طردي",
                explanation: "تتناسب سرعة التفاعل الكيميائي تناسبًا طرديًا مع مساحة السطح للمواد المتفاعلة. كلما زادت مساحة السطح المعرضة للتفاعل، زادت فرص التصادم بين جزيئات المتفاعلات، وبالتالي تزداد سرعة التفاعل."
            },
            {
                question: "يمكن الحصول على كربونات الصوديوم من تسخين :",
                options: ["NaHCO₃", "NaNO₃", "Na₂CO₃", "CaCO₃"],
                answer: "NaHCO₃",
                explanation: "تسخين بيكربونات الصوديوم (NaHCO₃) يؤدي إلى تحللها حرارياً لإنتاج كربونات الصوديوم (Na₂CO₃) وثاني أكسيد الكربون والماء. هذا هو أساس عملية سولفاي لتحضير كربونات الصوديوم. المعادلة: 2NaHCO₃(s) → Na₂CO₃(s) + H₂O(g) + CO₂(g)"
            },
            {
                question: "من المعادلات الآتية :\n1. 2H₂ + O₂ → 2H₂O\n2. H₂ + 1/2O₂ → H₂O\nالعلاقة في حرارة التفاعل لتكوين بخار الماء حيث الوحدة هي (Kj):",
                options: ["1=2", "1<2", "1>2", "لا شيء مما سبق"],
                answer: "1>2",
                explanation: "حرارة التفاعل (التغير في الإنتالبيا، ΔH) تتناسب طرديًا مع كمية المواد المتفاعلة والناتجة. في المعادلة (1)، يتم إنتاج مولين من بخار الماء، بينما في المعادلة (2) يتم إنتاج مول واحد فقط. لذلك، فإن قيمة حرارة التفاعل (|ΔH|) للمعادلة (1) ستكون ضعف قيمة حرارة التفاعل (|ΔH|) للمعادلة (2). هذا يعني أن حرارة التفاعل (1) > حرارة التفاعل (2) إذا كنا نقصد القيمة المطلقة للطاقة المنطلقة أو الممتصة."
            }
        ];

        let questionsEnglish = [
            // No English questions provided yet, placeholder for future addition
            {
                question: "Which of the following is a synonym for 'diligent'?",
                options: ["Lazy", "Hardworking", "Careless", "Slow"],
                answer: "Hardworking",
                explanation: "The word 'diligent' means characterized by steady, earnest, and energetic application of effort. 'Hardworking' is a direct synonym."
            }
        ];

        let currentQuestions = [];
        let currentQuestionIndex = 0;
        let userAnswers = [];
        let timerInterval;
        let timeLeft = 0; // Will be set based on number of questions

        const introScreen = document.getElementById('introScreen');
        const categorySelection = document.getElementById('categorySelection');
        const quizScreen = document.getElementById('quizScreen');
        const resultsScreen = document.getElementById('resultsScreen');
        const questionContainer = document.getElementById('questionContainer');
        const timerDisplay = document.getElementById('timer');
        const prevBtn = document.getElementById('prevBtn');
        const nextBtn = document.getElementById('nextBtn');
        const submitBtn = document.getElementById('submitBtn');
        const correctAnswersSpan = document.getElementById('correctAnswers');
        const wrongAnswersSpan = document.getElementById('wrongAnswers');
        const scorePercentageSpan = document.getElementById('scorePercentage');
        const reviewContainer = document.getElementById('reviewContainer');

        function showScreen(screenId) {
            introScreen.style.display = 'none';
            categorySelection.style.display = 'none';
            quizScreen.style.display = 'none';
            resultsScreen.style.display = 'none';
            document.getElementById(screenId).style.display = 'block';
        }

        function startQuizSelection() {
            showScreen('categorySelection');
        }

        function startQuiz(category) {
            if (category === 'biology') {
                currentQuestions = questionsBiology;
            } else if (category === 'chemistry') {
                currentQuestions = questionsChemistry;
            } else if (category === 'english') {
                currentQuestions = questionsEnglish;
            }

            if (currentQuestions.length === 0) {
                alert("لا توجد أسئلة لهذه الفئة حتى الآن. يرجى اختيار فئة أخرى.");
                return;
            }

            currentQuestionIndex = 0;
            userAnswers = Array(currentQuestions.length).fill(null);
            showScreen('quizScreen');
            loadQuestion();
            startTimer(currentQuestions.length * 60); // 1 minute per question
        }

        function loadQuestion() {
            const questionData = currentQuestions[currentQuestionIndex];
            questionContainer.innerHTML = `
                <p>السؤال ${currentQuestionIndex + 1} من ${currentQuestions.length}: ${questionData.question}</p>
                <div class="options">
                    ${questionData.options.map((option, index) => `
                        <label>
                            <input type="radio" name="question${currentQuestionIndex}" value="${option}" ${userAnswers[currentQuestionIndex] === option ? 'checked' : ''}>
                            ${option}
                        </label>
                    `).join('')}
                </div>
            `;

            // Update navigation buttons
            prevBtn.disabled = currentQuestionIndex === 0;
            nextBtn.style.display = currentQuestionIndex === currentQuestions.length - 1 ? 'none' : 'inline-block';
            submitBtn.style.display = currentQuestionIndex === currentQuestions.length - 1 ? 'block' : 'none';

            // Add event listeners for radio buttons
            document.querySelectorAll(`input[name="question${currentQuestionIndex}"]`).forEach(radio => {
                radio.addEventListener('change', (event) => {
                    userAnswers[currentQuestionIndex] = event.target.value;
                });
            });
        }

        function nextQuestion() {
            if (currentQuestionIndex < currentQuestions.length - 1) {
                currentQuestionIndex++;
                loadQuestion();
            }
        }

        function prevQuestion() {
            if (currentQuestionIndex > 0) {
                currentQuestionIndex--;
                loadQuestion();
            }
        }

        function startTimer(duration) {
            timeLeft = duration;
            clearInterval(timerInterval);
            timerInterval = setInterval(() => {
                const minutes = Math.floor(timeLeft / 60);
                const seconds = timeLeft % 60;
                timerDisplay.textContent = `الزمن المتبقي: ${minutes.toString().padStart(2, '0')}:${seconds.toString().padStart(2, '0')}`;

                if (timeLeft <= 0) {
                    clearInterval(timerInterval);
                    submitQuiz();
                    alert("انتهى الوقت!");
                }
                timeLeft--;
            }, 1000);
        }

        function submitQuiz() {
            clearInterval(timerInterval);
            let correctCount = 0;
            let wrongCount = 0;

            currentQuestions.forEach((q, index) => {
                if (userAnswers[index] === q.answer) {
                    correctCount++;
                } else {
                    wrongCount++;
                }
            });

            correctAnswersSpan.textContent = correctCount;
            wrongAnswersSpan.textContent = wrongCount;
            scorePercentageSpan.textContent = ((correctCount / currentQuestions.length) * 100).toFixed(2);

            showScreen('resultsScreen');
            reviewContainer.style.display = 'none'; // Hide review on initial results view
        }

        function retakeQuiz() {
            showScreen('categorySelection');
            reviewContainer.innerHTML = ''; // Clear previous review
        }

        function reviewAnswers() {
            reviewContainer.style.display = 'block';
            reviewContainer.innerHTML = '<h3>مراجعة تفصيلية للإجابات</h3>';

            currentQuestions.forEach((q, index) => {
                const reviewItem = document.createElement('div');
                reviewItem.classList.add('review-item');

                const userAnswerText = userAnswers[index] ? userAnswers[index] : 'لم تتم الإجابة';
                const isCorrect = userAnswers[index] === q.answer;

                reviewItem.innerHTML = `
                    <p><strong>السؤال ${index + 1}:</strong> ${q.question}</p>
                    <p class="correct-answer"><strong>الإجابة الصحيحة:</strong> ${q.answer}</p>
                    <p class="${isCorrect ? 'correct-answer' : 'your-answer'}"><strong>إجابتك:</strong> ${userAnswerText} ${isCorrect ? '(صحيحة)' : '(خاطئة)'}</p>
                    <p class="explanation"><strong>الشرح:</strong> ${q.explanation}</p>
                `;
                reviewContainer.appendChild(reviewItem);
            });
        }

        // Initial screen load
        document.addEventListener('DOMContentLoaded', () => {
            showScreen('introScreen');
        });
    </script>
</body>
</html>
